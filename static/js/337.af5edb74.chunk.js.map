{"version":3,"file":"static/js/337.af5edb74.chunk.js","mappings":"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","sources":["components/MovieLink/MovieLink.jsx","components/MoviesList/MoviesList.jsx","constants/constants.js","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","services/moviedb.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const MovieLink = ({ to, state, text }) => (\n  <li>\n    <Link to={to} state={state}>\n      {text}\n    </Link>\n  </li>\n);","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { MovieLink } from 'components/MovieLink/MovieLink';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(({ id, title, name, original_name }) => (\n        <MovieLink\n          key={id}\n          to={`/movies/${id}`}\n          text={title || name || original_name}\n          state={location}\n        />\n      ))}\n    </ul>\n  );\n};\n","export const FALLBACK_IMAGE_URL = 'https://png.pngtree.com/png-vector/20210604/ourmid/pngtree-gray-network-placeholder-png-image_3416659.jpg';\nexport const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p';\nexport const GENERIC_ERROR_MESSAGE = 'Something went wrong!';\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\"};","import React from 'react';\n\nimport style from './SearchForm.module.css';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const handleSearch = event => {\n    event.preventDefault();\n    const query = event.target.elements[0].value.trim().toLowerCase();\n    if (query) {\n      onSubmit({ query });\n      event.target.elements[0].value = '';\n    } else {\n      alert('Please, enter valid query');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSearch} className={style.form}>\n      <input type=\"text\" name=\"query\" required />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport {GENERIC_ERROR_MESSAGE} from 'constants/constants';\nimport { getMoviesByKeyWord } from '../../services/moviedb';\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSearchDone, setIsSearchDone] = useState(false);\n\n  \n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    const handleSearch = async () => {\n      setIsSearchDone(false);\n      setIsLoading(true);\n      try {\n        const {\n          data: { results },\n        } = await getMoviesByKeyWord(query);\n        setSearchResults(results);\n      } catch (error) {\n        alert(error.message || GENERIC_ERROR_MESSAGE);\n      } finally {\n        setIsLoading(false);\n        setIsSearchDone(true);\n      }\n    };\n\n    query && handleSearch();\n  }, [query]);\n\n  return (\n    <div>\n      <SearchForm onSubmit={setSearchParams} />\n      {isLoading && <div>Loading...</div>}\n      {!isLoading && !!searchResults.length && (\n        <MoviesList movies={searchResults}/>\n      )}\n      {isSearchDone && !searchResults.length && 'No movies found.'}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n// const KEY = 'b8c1b69b43f66ba99179e6c058e68d40';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOGMxYjY5YjQzZjY2YmE5OTE3OWU2YzA1OGU2OGQ0MCIsInN1YiI6IjY1ZTM1OTQ1Mjc4ZDhhMDE4NWJlYzZiZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.CNLEvHlE8zFUYYpcIuliwcHUdjkBu0SAyc-dd-ApbiA';\naxios.defaults.headers.common['accept'] = 'application/json';\n\nexport const getTrendingMovies = async (time_window = 'day') => {\n  return await axios.get(`/trending/all/${time_window}`);\n};\n\nexport const getMovie = async movieId => {\n  return await axios.get(`/movie/${movieId}`);\n};\n\nexport const getMovieCredits = async movieId => {\n  return await axios.get(`/movie/${movieId}/credits`);\n};\n\nexport const getMovieReviews = async movieId => {\n  return await axios.get(`/movie/${movieId}/reviews`);\n};\n\nexport const getMoviesByKeyWord = async keyWord => {\n  return await axios.get(`/search/movie?query=${keyWord}`);\n};\n"],"names":["MovieLink","_ref","to","state","text","_jsx","children","Link","MoviesList","movies","location","useLocation","map","_ref2","id","title","name","original_name","concat","FALLBACK_IMAGE_URL","IMAGE_BASE_URL","GENERIC_ERROR_MESSAGE","SearchForm","onSubmit","_jsxs","event","preventDefault","query","target","elements","value","trim","toLowerCase","alert","className","style","type","required","_useState","useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isSearchDone","setIsSearchDone","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","handleSearch","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMoviesByKey","results","_context","prev","next","getMoviesByKeyWord","sent","data","t0","message","finish","stop","apply","arguments","length","axios","getTrendingMovies","time_window","_args","undefined","abrupt","getMovie","_callee2","movieId","_context2","_x","getMovieCredits","_ref3","_callee3","_context3","_x2","getMovieReviews","_ref4","_callee4","_context4","_x3","_ref5","_callee5","keyWord","_context5","_x4"],"sourceRoot":""}